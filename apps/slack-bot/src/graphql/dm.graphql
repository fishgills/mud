mutation MovePlayer($slackId: String!, $input: MovePlayerInput!) {
  movePlayer(slackId: $slackId, input: $input) {
    success
    message
    monsters {
      name
      id
    }
    playersAtLocation {
      name
      level
    }
    player {
      x
      y
    }
  }
}

mutation Attack($slackId: String!, $input: AttackInput!) {
  attack(slackId: $slackId, input: $input) {
    success
    message
    data {
      winnerName
      loserName
      totalDamageDealt
      roundsCompleted
      xpGained
      goldGained
      message
      playerMessages {
        slackId
        name
        message
      }
      success
    }
  }
}

query GetPlayer($slackId: String, $name: String) {
  getPlayer(slackId: $slackId, name: $name) {
    success
    message
    data {
      id
      name
      x
      y
      hp
      maxHp
      strength
      agility
      health
      gold
      xp
      level
      isAlive
      nearbyMonsters {
        id
        name
        hp
        isAlive
      }
    }
  }
}

query GetLocationEntities($x: Float!, $y: Float!) {
  getPlayersAtLocation(x: $x, y: $y) {
    id
    slackId
    name
    x
    y
    hp
    maxHp
    strength
    agility
    health
    gold
    xp
    level
    isAlive
  }
  getMonstersAtLocation(x: $x, y: $y) {
    id
    name
    type
    hp
    maxHp
    strength
    agility
    health
    x
    y
    isAlive
  }
}

query GetPlayerWithLocation($slackId: String!) {
  getPlayer(slackId: $slackId) {
    success
    message
    data {
      id
      name
      x
      y
      hp
      maxHp
      strength
      agility
      health
      gold
      xp
      level
      isAlive
      nearbyMonsters {
        id
        name
        hp
        isAlive
      }
      currentTile {
        x
        y
        biomeName
        description
        height
        temperature
        moisture
      }
      nearbyPlayers {
        id
        name
        hp
        isAlive
      }
    }
  }
}

# Enhanced panoramic look view
query GetLookView($slackId: String!) {
  getLookView(slackId: $slackId) {
    success
    message
    data {
      location {
        x
        y
        biomeName
        description
        height
        temperature
        moisture
      }
      currentSettlement {
        name
        type
        size
        intensity
        isCenter
      }
      monsters {
        id
        name
      }
      visibilityRadius
      biomeSummary {
        biomeName
        proportion
        predominantDirections
      }
      visiblePeaks {
        x
        y
        height
        distance
        direction
      }
      visibleSettlements {
        name
        type
        size
        distance
        direction
      }
      nearbyPlayers {
        distance
        direction
        x
        y
      }
      description
    }
  }
}
mutation CreatePlayer($input: CreatePlayerInput!) {
  createPlayer(input: $input) {
    success
    message
    data {
      id
      slackId
      name
      x
      y
      hp
      maxHp
      strength
      agility
      health
      gold
      xp
      level
      isAlive
      updatedAt
    }
  }
}

mutation RerollPlayerStats($slackId: String!) {
  rerollPlayerStats(slackId: $slackId) {
    success
    message
    data {
      id
      slackId
      name
      strength
      agility
      health
      maxHp
    }
  }
}

mutation CompletePlayer($slackId: String!) {
  updatePlayerStats(slackId: $slackId, input: { hp: 10 }) {
    success
    message
    data {
      id
      slackId
      name
      isAlive
    }
  }
}

mutation DeletePlayer($slackId: String!) {
  deletePlayer(slackId: $slackId) {
    success
    message
    data {
      id
      slackId
      name
    }
  }
}
