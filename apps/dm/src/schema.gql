# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type TileInfo {
  x: Float!
  y: Float!
  biomeName: String!
  description: String
  height: Float!
  temperature: Float!
  moisture: Float!
}

type Monster {
  id: ID!
  name: String!
  type: String!
  hp: Int!
  maxHp: Int!
  strength: Int!
  agility: Int!
  health: Int!
  x: Int!
  y: Int!
  isAlive: Boolean!
  lastMove: DateTime!
  spawnedAt: DateTime!
  biomeId: Int!
  worldTileId: Int
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Player {
  id: ID!
  slackId: String!
  name: String!
  x: Int!
  y: Int!
  hp: Int!
  maxHp: Int!
  strength: Int!
  agility: Int!
  health: Int!
  gold: Int!
  xp: Int!
  level: Int!
  isAlive: Boolean!
  lastAction: DateTime
  createdAt: DateTime
  updatedAt: DateTime!
  worldTileId: Int
  currentTile: TileInfo
  nearbyPlayers: [Player!]
  nearbyMonsters: [Monster!]
}

type CombatLog {
  id: ID!
  attackerId: Int!
  attackerType: String!
  defenderId: Int!
  defenderType: String!
  damage: Int!
  x: Int!
  y: Int!
  timestamp: DateTime!
}

type LocationInfo {
  location: TileInfo!
  monsters: [Monster!]
  players: [Player!]
  recentCombat: [CombatLog!]
}

type SuccessResponse {
  success: Boolean!
  message: String
}

type PlayerResponse {
  success: Boolean!
  message: String
  data: Player
}

type LocationResponse {
  success: Boolean!
  message: String
  data: LocationInfo
}

type MonsterResponse {
  success: Boolean!
  message: String
  data: Monster
}

type CombatResult {
  success: Boolean!
  damage: Float!
  attackerName: String!
  defenderName: String!
  defenderHp: Float!
  defenderMaxHp: Float!
  isDead: Boolean!
  message: String!
  xpGained: Float
}

type CombatResponse {
  success: Boolean!
  message: String
  data: CombatResult
}

type GameState {
  currentTime: String!
  totalPlayers: Float!
  totalMonsters: Float!
}

type GameStateResponse {
  success: Boolean!
  message: String
  data: GameState
}

type HealthCheck {
  status: String!
  timestamp: String!
}

type PlayerStats {
  player: Player!
  strengthModifier: Float!
  agilityModifier: Float!
  healthModifier: Float!
  dodgeChance: Float!
  baseDamage: String!
  armorClass: Float!
  xpForNextLevel: Float!
  xpProgress: Float!
  xpNeeded: Float!
  recentCombat: [CombatLog!]!
}

type SurroundingTile {
  x: Int!
  y: Int!
  biomeName: String!
  description: String
  direction: String!
}

type NearbyPlayerInfo {
  distance: Float!
  direction: String!
  x: Int!
  y: Int!
}

type PlayerMovementData {
  player: Player!
  location: TileInfo!
  monsters: [Monster!]!
  nearbyPlayers: [NearbyPlayerInfo!]
  playerInfo: String!
  surroundingTiles: [SurroundingTile!]!
  description: String!
  nearbyBiomes: [String!]
  nearbySettlements: [String!]
  currentSettlement: String
}

type PlayerMoveResponse {
  success: Boolean!
  message: String
  data: PlayerMovementData
}

type BiomeSectorSummary {
  biomeName: String!
  proportion: Float!
  predominantDirections: [String!]!
}

type VisiblePeakInfo {
  x: Int!
  y: Int!
  height: Float!
  distance: Float!
  direction: String!
}

type VisibleSettlementInfo {
  name: String!
  type: String!
  size: String!
  distance: Float!
  direction: String!
}

type LookViewData {
  location: TileInfo!
  visibilityRadius: Float!
  biomeSummary: [BiomeSectorSummary!]!
  visiblePeaks: [VisiblePeakInfo!]!
  visibleSettlements: [VisibleSettlementInfo!]!
  description: String!
}

type LookViewResponse {
  success: Boolean!
  message: String
  data: LookViewData
}

type Query {
  getPlayer(slackId: String!): PlayerResponse!
  getAllPlayers: [Player!]!
  getMovementView(slackId: String!): PlayerMoveResponse!
  getLookView(slackId: String!): LookViewResponse!
  getPlayersAtLocation(x: Float!, y: Float!): [Player!]!
  getPlayerStats(slackId: String!): PlayerStats!
  getLocationInfo(x: Int!, y: Int!): LocationResponse!
  health: HealthCheck!
  getGameState: GameStateResponse!
  getAllMonsters: [Monster!]!
}

type Mutation {
  createPlayer(input: CreatePlayerInput!): PlayerResponse!
  movePlayer(slackId: String!, input: MovePlayerInput!): PlayerMoveResponse!
  updatePlayerStats(slackId: String!, input: PlayerStatsInput!): PlayerResponse!
  rerollPlayerStats(slackId: String!): PlayerResponse!
  healPlayer(slackId: String!, amount: Float!): PlayerResponse!
  damagePlayer(slackId: String!, damage: Float!): PlayerResponse!
  attack(slackId: String!, input: AttackInput!): CombatResponse!
  respawn(slackId: String!): PlayerResponse!
  deletePlayer(slackId: String!): PlayerResponse!
  processTick: SuccessResponse!
  spawnMonster(input: SpawnMonsterInput!): MonsterResponse!
}

input CreatePlayerInput {
  slackId: String!
  name: String!
  x: Int
  y: Int
}

input MovePlayerInput {
  direction: Direction!
}

"""Cardinal directions for player movement"""
enum Direction {
  NORTH
  EAST
  SOUTH
  WEST
}

input PlayerStatsInput {
  hp: Int
  xp: Int
  gold: Int
  level: Int
}

input AttackInput {
  targetType: TargetType!
  targetId: Int!
}

enum TargetType {
  PLAYER
  MONSTER
}

input SpawnMonsterInput {
  x: Int!
  y: Int!
}